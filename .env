# Environment Configuration for FBR SAP B1 Integration
# Copy this file to .env and update with your actual values

# SAP B1 Database Configuration
SAP_SERVER=sapb2
SAP_DATABASE=Arfa
SAP_UID=sa
SAP_PWD=Chalk@398

# FBR API Configuration - POS Model
POS_FBR_API_URL_Production=https://gw.fbr.gov.pk/imsp/v1/api/Live/PostData
POS_FBR_API_URL_Sandbox=https://esp.fbr.gov.pk:8244/FBR/v1/api/Live/PostData
Digital_FBR_API_URL_Production=
Digital_FBR_API_URL_Sandbox=

# FBR Authentication Tokens
FBR_TOKEN_Sandbox=1298b5eb-b252-3d97-8622-a4a69d5bf818
FBR_TOKEN_Production=906b1cd8-0d10-3a91-8234-8ec88e376bd7

# Environment Settings
FBR_ENVIRONMENT=sandbox  # sandbox or production
FBR_InvoiceModel=POS  # POS or Digital
FBR_Invoice_Model_POS=True
FBR_Invoice_Model_Digital=False # either one will be true

# Company Information
COMPANY_NTN=8377653-3
COMPANY_POSID=817456
COMPANY_Code=DEF8F4C5
COMPANY_NAME=Kataria Retail Pvt. Ltd
COMPANY_PROVINCE=Islamabad
COMPANY_ADDRESS=Kataria House Garden Town Expressway Isb
SELLER_BUSINESS_NAME=Kataria Retail Pvt. Ltd
SELLER_NTN=8377653-3

# FBR Tax Configuration
DEFAULT_PCT_CODE=01011000  # General PCT code for miscellaneous goods when item-specific code is not available

# Database FBR Business Logic Filters
FBR_POS_INVOICE_REQUIRED=Yes # OCRD.U_FbrPosInvoice='Yes' or 'No' Only Yes will be processed 
FBR_IMPLEMENTATION_DATE=2025-10-02 # cutoff date for processing invoices

# Application Behavior Settings
STOP_ON_ERROR_DEVELOPMENT=False  # Stop processing on first error in development
STOP_ON_ERROR_PRODUCTION=False  # Continue processing on errors in production
DAEMON_MODE_ENABLED=True  # Run as daemon service
DAEMON_CHECK_INTERVAL_MINUTES=1  # How often to check for new invoices
MAX_RETRY_ATTEMPTS=1000  # Maximum retry attempts for failed invoices
RETRY_DELAY_SECONDS=300  # Delay between retry attempts

# API Configuration
API_TIMEOUT_SECONDS=30  # HTTP request timeout
API_MAX_CONNECTIONS=10  # Maximum concurrent connections
REQUEST_DELAY_MS=100  # Delay between API requests to avoid rate limiting

# Logging Configuration
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/fbr_integration.log
LOG_MAX_SIZE_MB=10  # Maximum log file size before rotation
LOG_BACKUP_COUNT=5  # Number of backup log files to keep
LOG_TO_CONSOLE=True  # Also log to console
LOG_TO_DATABASE=True  # Log to FBR_LOG table

# Windows Service Configuration
SERVICE_NAME=FBR_SAP_Integration
SERVICE_DISPLAY_NAME=FBR SAP B1 Integration Service
SERVICE_DESCRIPTION=Automated service for uploading SAP B1 invoices to FBR portal

# Optional: Email notifications for errors
SMTP_SERVER=http://email.pccexpress.com.pk:3000/
SMTP_PORT=587
SMTP_USERNAME=fbralert@pccexpress.com.pk
SMTP_PASSWORD=Pakistan@786
ALERT_EMAIL=nabeelmehmood448@gmail.com
EMAIL_NOTIFICATIONS_ENABLED=True

# Development/Testing Settings
TEST_MODE=False  # If True, won't actually submit to FBR API
MOCK_FBR_RESPONSES=False  # Use mock responses for testing
PROCESS_SINGLE_INVOICE=False  # Process only one invoice per run (for testing)
DEBUG_SQL_QUERIES=True  # Print SQL queries to console
MOCK_FBR_RESPONSES=False  # Use mock responses for testing
PROCESS_SINGLE_INVOICE=False  # Process only one invoice per run (for testing)
DEBUG_SQL_QUERIES=True  # Print SQL queries to console